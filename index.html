<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dru≈ºyna Harcerska ISKRA</title>

    <style>
        body {
            margin: 0;
            font-family: 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(to bottom, #1a0000, #4a0000);
            color: white;
            min-height: 100vh;
        }

        header {
            background: linear-gradient(to right, #ff3c00, #ffae00);
            padding: 20px;
            text-align: center;
            font-size: clamp(20px, 5vw, 30px);
            font-weight: bold;
            letter-spacing: 2px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
        }

        nav {
            background: #330000;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        nav a {
            color: white;
            text-decoration: none;
            padding: 14px 15px;
            display: inline-block;
            cursor: pointer;
            transition: 0.3s;
        }

        nav a:hover {
            background: #ff4500;
        }

        .dropdown {
            display: inline-block;
            position: relative;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background: #660000;
            min-width: 160px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.5);
        }

        .dropdown-content a {
            display: block;
            text-align: left;
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        .section {
            display: none;
            padding: 20px;
            max-width: 900px;
            margin: auto;
            line-height: 1.6;
        }

        .active {
            display: block;
        }

        .hero {
            position: relative;
            height: 250px;
            overflow: hidden;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .hero img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: brightness(40%);
        }

        .hero-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 60px;
            color: #ffae00;
            text-shadow: 0 0 20px red;
            font-weight: bold;
        }

        .news-card {
            background: #330000;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            border: 1px solid #550000;
        }

        .news-card img {
            width: 100%;
            max-height: 400px;
            object-fit: cover;
            border-radius: 10px;
        }

        .admin-panel {
            background: #220000;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 2px dashed orange;
        }

        input, textarea {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            box-sizing: border-box;
            border-radius: 5px;
            border: 1px solid #440000;
            background: #1a0000;
            color: white;
        }

        button {
            background: orange;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            font-weight: bold;
            border-radius: 5px;
            transition: 0.2s;
        }

        button:hover {
            background: #ffae00;
        }

        #loginWrapper {
            margin-top: 80px;
            padding: 40px 20px;
            border-top: 1px solid #440000;
            text-align: center;
        }

        #loginBox {
            max-width: 300px;
            margin: auto;
            background: rgba(0,0,0,0.2);
            padding: 20px;
            border-radius: 10px;
        }

        .spiewnik-tekst {
            background: rgba(0,0,0,0.3);
            padding: 20px;
            border-radius: 10px;
            white-space: pre-line;
            font-style: italic;
            border-left: 4px solid orange;
        }
    </style>

    <script>
        const users = {
            "ktosstos4@iskra.com": "S@eba124",
            "edziktoemo@iskra.com": "jestememo123"
        };

        function showSection(id) {
            document.querySelectorAll(".section").forEach(s => s.classList.remove("active"));
            document.getElementById(id).classList.add("active");
            if (id === "aktualnosci") renderNews();
        }

        function login() {
            let email = document.getElementById("email").value;
            let pass = document.getElementById("password").value;
            if (users[email] === pass) {
                localStorage.setItem("logged", "true");
                alert("Zalogowano!");
                location.reload();
            } else {
                alert("B≈Çƒôdne dane");
            }
        }

        function logout() {
            localStorage.removeItem("logged");
            location.reload();
        }

        function renderNews() {
            let container = document.getElementById("newsContainer");
            container.innerHTML = "";
            
            let news = JSON.parse(localStorage.getItem("news")) || [];

            if (localStorage.getItem("logged") === "true") {
                document.getElementById("adminPanel").style.display = "block";
            }

            if(news.length === 0) {
                container.innerHTML = "<p style='text-align:center; color:#888;'>Brak nowych aktualno≈õci.</p>";
                return;
            }

            news.forEach((n, index) => {
                container.innerHTML += `
                    <div class="news-card">
                        <h2 style="color:orange;">${n.title}</h2>
                        ${n.image ? `<img src="${n.image}">` : ''}
                        <p>${n.short}</p>
                        <button onclick="openNews(${index})">Czytaj wiƒôcej</button>
                        ${localStorage.getItem("logged") === "true" ? `<button onclick="deleteNews(${index})" style="background:red; margin-left:10px;">Usu≈Ñ</button>` : ''}
                    </div>
                `;
            });
        }

        function openNews(index) {
            let news = JSON.parse(localStorage.getItem("news"));
            let n = news[index];
            document.getElementById("newsContainer").innerHTML = `
                <h1 style="color:orange;">${n.title}</h1>
                ${n.image ? `<img src="${n.image}" style="width:100%; border-radius:15px; margin-bottom:20px;">` : ''}
                <div style="font-size:18px;">${n.full}</div>
                <br>
                <button onclick="renderNews()">‚Üê Powr√≥t</button>
            `;
        }

        function addNews() {
            let title = document.getElementById("newTitle").value;
            let image = document.getElementById("newImage").value;
            let short = document.getElementById("newShort").value;
            let full = document.getElementById("newFull").value;

            if(!title) return alert("Podaj tytu≈Ç!");

            let news = JSON.parse(localStorage.getItem("news")) || [];
            news.unshift({title, image, short, full});
            localStorage.setItem("news", JSON.stringify(news));
            renderNews();
            
            document.getElementById("newTitle").value = "";
            document.getElementById("newImage").value = "";
            document.getElementById("newShort").value = "";
            document.getElementById("newFull").value = "";
        }

        function deleteNews(index) {
            let news = JSON.parse(localStorage.getItem("news"));
            news.splice(index, 1);
            localStorage.setItem("news", JSON.stringify(news));
            renderNews();
        }

        window.onload = function() {
            if(localStorage.getItem("logged") === "true") {
                document.getElementById("loginInputs").style.display = "none";
                document.getElementById("logoutBtn").style.display = "inline-block";
            }
            // CZYSZCZENIE STARYCH AKTUALNO≈öCI PRZY PIERWSZYM URUCHOMIENIU TEGO KODU
            if(!localStorage.getItem("news_cleaned")) {
                localStorage.setItem("news", JSON.stringify([]));
                localStorage.setItem("news_cleaned", "true");
            }
        };
    </script>
</head>
<body>

<header>üî• Dru≈ºyna Harcerska ISKRA üî•</header>

<nav>
    <a onclick="showSection('home')">Strona G≈Ç√≥wna</a>
    <a onclick="showSection('historia')">Historia</a>
    <a onclick="showSection('aktualnosci')">Aktualno≈õci</a>
    <a onclick="showSection('spiewnik')">≈öpiewnik</a>

    <div class="dropdown">
        <a>Hufiec ‚ñº</a>
        <div class="dropdown-content">
            <a onclick="showSection('hufiec')">Historia Hufca</a>
            <a href="https://gorczanski.zhp.pl/" target="_blank">Strona Hufca</a>
            <a href="mailto:gorczanski@zhp.pl">Kontakt</a>
        </div>
    </div>
</nav>

<div id="home" class="section active">
    <div class="hero">
        <img src="https://images.unsplash.com/photo-1506744038136-46273834b3fb">
        <div class="hero-text">SOON...</div>
    </div>
    
    <h2 style="text-align:center;">Czuwaj!</h2>
    <p>Witaj na oficjalnej stronie Dru≈ºyny Harcerskiej ISKRA z Mszany Dolnej. Jeste≈õmy grupƒÖ m≈Çodych ludzi, kt√≥rych ≈ÇƒÖczy pasja do g√≥r, przygody i wsp√≥lnego dzia≈Çania.</p>

    <div id="loginWrapper">
        <div id="loginBox">
            <p style="font-size: 12px; color: #888;">Panel administracyjny</p>
            <div id="loginInputs">
                <input id="email" placeholder="Email">
                <input id="password" type="password" placeholder="Has≈Ço">
                <button onclick="login()">Zaloguj</button>
            </div>
            <button id="logoutBtn" onclick="logout()" style="display:none; background: #555;">Wyloguj siƒô</button>
        </div>
    </div>
</div>

<div id="historia" class="section">
    <h1 style="color:orange;">Historia Dru≈ºyny ISKRA</h1>
    <p>Dru≈ºyna powsta≈Ça w 2025 roku w Mszanie Dolnej. Od samego poczƒÖtku stawiamy na rozw√≥j, braterstwo i patriotyzm.</p>
</div>

<div id="aktualnosci" class="section">
    <div id="adminPanel" class="admin-panel" style="display:none">
        <h2>Panel Admina</h2>
        <input id="newTitle" placeholder="Tytu≈Ç wpisu">
        <input id="newImage" placeholder="Link do zdjƒôcia">
        <textarea id="newShort" placeholder="Kr√≥tki opis..."></textarea>
        <textarea id="newFull" placeholder="Pe≈Çna tre≈õƒá..."></textarea>
        <button onclick="addNews()">Dodaj post</button>
    </div>
    <div id="newsContainer"></div>
</div>

<div id="spiewnik" class="section">
    <h1 style="color:orange;">≈öpiewnik Harcerski</h1>
    <h2>P≈Çonie ognisko i szumiƒÖ knieje</h2>
    <div class="spiewnik-tekst">
        1. P≈Çonie ognisko i szumiƒÖ knieje, 
        Dru≈ºyna jest tu≈º przy nim w krƒÖg, 
        A w sercach naszych rado≈õƒá siƒô ≈õmieje, 
        Gdy braterski u≈õcisk swych rƒÖk poczujemy.

        Ref. PrzeminƒÖ dni, lata i wieki, 
        Prze≈ºytych przyg√≥d smak, 
        Lecz ognia tego blask daleki, 
        W naszych sercach bƒôdzie trwa≈Ç!

        2. W blasku ogniska widaƒá nam twarze, 
        W kt√≥rych nadzieja i si≈Ça drzemie...
    </div>
</div>

<div id="hufiec" class="section">
    <h1 style="color:orange;">Hufiec Gorcza≈Ñski ZHP</h1>
    <p>Hufiec Gorcza≈Ñski to nasza jednostka nadrzƒôdna, kt√≥ra wspiera nas w codziennej s≈Çu≈ºbie.</p>
</div>

</body>
</html>
